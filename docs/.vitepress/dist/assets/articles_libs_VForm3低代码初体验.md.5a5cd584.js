import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.2655693f.js";const m=JSON.parse('{"title":"VForm3低代码初体验","description":"","frontmatter":{"title":"VForm3低代码初体验","date":"2023年03月10日","tags":["低代码"],"categories":["三方库"]},"headers":[],"relativePath":"articles/libs/VForm3低代码初体验.md","filePath":"articles/libs/VForm3低代码初体验.md"}'),o={name:"articles/libs/VForm3低代码初体验.md"},p=l(`<h1 id="vform3低代码初体验" tabindex="-1">VForm3低代码初体验 <a class="header-anchor" href="#vform3低代码初体验" aria-label="Permalink to &quot;VForm3低代码初体验&quot;">​</a></h1><h2 id="使用背景" tabindex="-1">使用背景 <a class="header-anchor" href="#使用背景" aria-label="Permalink to &quot;使用背景&quot;">​</a></h2><ol><li>集团需求，希望可以动态设计表单，收集所需信息，报表填写，定时上交</li><li><strong>那如果我手动写表单，哪还有摸鱼时间</strong></li></ol><h2 id="技术栈" tabindex="-1">技术栈 <a class="header-anchor" href="#技术栈" aria-label="Permalink to &quot;技术栈&quot;">​</a></h2><p>vue3 + elementUI-plus</p><h2 id="展示" tabindex="-1">展示 <a class="header-anchor" href="#展示" aria-label="Permalink to &quot;展示&quot;">​</a></h2><p><img src="https://cdn.nlark.com/yuque/0/2021/gif/12445330/1627369513020-c49a8239-8727-437c-8f8a-45ee354f91a4.gif" alt="vform"></p><h2 id="安装使用" tabindex="-1">安装使用 <a class="header-anchor" href="#安装使用" aria-label="Permalink to &quot;安装使用&quot;">​</a></h2><h4 id="方式一" tabindex="-1">方式一 <a class="header-anchor" href="#方式一" aria-label="Permalink to &quot;方式一&quot;">​</a></h4><p><code>npm i vform3-builds</code></p><h4 id="方式二" tabindex="-1">方式二 <a class="header-anchor" href="#方式二" aria-label="Permalink to &quot;方式二&quot;">​</a></h4><ol><li><p>拉取官方源码 <a href="https://gitee.com/vdpadmin/variant-form3-vite" target="_blank" rel="noreferrer">https://gitee.com/vdpadmin/variant-form3-vite</a></p></li><li><p>运行官方源码，打包 lib，会在 dist 文件中分别生成四个文件</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">designer.style.css</span></span>
<span class="line"><span style="color:#E1E4E8;">designer.umd.js</span></span>
<span class="line"><span style="color:#E1E4E8;">render.style.css</span></span>
<span class="line"><span style="color:#E1E4E8;">render.umd.js</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">designer.style.css</span></span>
<span class="line"><span style="color:#24292E;">designer.umd.js</span></span>
<span class="line"><span style="color:#24292E;">render.style.css</span></span>
<span class="line"><span style="color:#24292E;">render.umd.js</span></span></code></pre></div><p>引入到项目放在 <code>/lib/vform</code> 中</p></li><li><p>main.js 中引入上述四个文件，使用方式参考下方文档</p></li></ol><p><strong>注意：VForm 3依赖Element Plus，需要先安装Element Plus</strong></p><h2 id="使用-vformdesigner-组件" tabindex="-1">使用 VFormDesigner 组件 <a class="header-anchor" href="#使用-vformdesigner-组件" aria-label="Permalink to &quot;使用 VFormDesigner 组件&quot;">​</a></h2><p>它是表单设计器，就是拖拽设计的部分，设计完成，生成特定的 json 数据结构，页面才可以用另一个组件加载出来，体验一下就知道了</p><p>在 main.js 中引入</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> ElementPlus </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;element-plus&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//引入element-plus库</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> VForm3 </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vform3-builds&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//引入VForm3库</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;element-plus/dist/index.css&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//引入element-plus样式</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vform3-builds/dist/designer.style.css&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//引入VForm3样式</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">app</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createApp</span><span style="color:#E1E4E8;">(App)</span></span>
<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">use</span><span style="color:#E1E4E8;">(ElementPlus)  </span><span style="color:#6A737D;">//全局注册element-plus</span></span>
<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">use</span><span style="color:#E1E4E8;">(VForm3)  </span><span style="color:#6A737D;">//全局注册VForm3(同时注册了v-form-designe、v-form-render等组件)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* 注意：如果你的项目中有使用axios，请用下面一行代码将全局axios复位为你的axios！！ */</span></span>
<span class="line"><span style="color:#E1E4E8;">window.axios </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> axios</span></span>
<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">mount</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#app&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> ElementPlus </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;element-plus&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//引入element-plus库</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> VForm3 </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vform3-builds&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//引入VForm3库</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;element-plus/dist/index.css&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//引入element-plus样式</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vform3-builds/dist/designer.style.css&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//引入VForm3样式</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">app</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createApp</span><span style="color:#24292E;">(App)</span></span>
<span class="line"><span style="color:#24292E;">app.</span><span style="color:#6F42C1;">use</span><span style="color:#24292E;">(ElementPlus)  </span><span style="color:#6A737D;">//全局注册element-plus</span></span>
<span class="line"><span style="color:#24292E;">app.</span><span style="color:#6F42C1;">use</span><span style="color:#24292E;">(VForm3)  </span><span style="color:#6A737D;">//全局注册VForm3(同时注册了v-form-designe、v-form-render等组件)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* 注意：如果你的项目中有使用axios，请用下面一行代码将全局axios复位为你的axios！！ */</span></span>
<span class="line"><span style="color:#24292E;">window.axios </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> axios</span></span>
<span class="line"><span style="color:#24292E;">app.</span><span style="color:#6F42C1;">mount</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#app&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><p>在 vue 模板中使用</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">v-form-designer</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">v-form-designer</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">style</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;scss&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">margin</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">/* 如果页面出现垂直滚动条，则加入此行CSS以消除之 */</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">style</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">v-form-designer</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">v-form-designer</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">style</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;scss&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#22863A;">body</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">margin</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;  </span><span style="color:#6A737D;">/* 如果页面出现垂直滚动条，则加入此行CSS以消除之 */</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">style</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="使用-vformrender-组件" tabindex="-1">使用 VFormRender 组件 <a class="header-anchor" href="#使用-vformrender-组件" aria-label="Permalink to &quot;使用 VFormRender 组件&quot;">​</a></h2><p>它是表单渲染的，利用上面设计器组件生成的 json 数据结构，渲染出表单内容</p><blockquote><p>重要提示：如果你在项目中已按照上一节文档注册了VFormDesigner组件，则不再需要注册VFormRender组件。仅当在项目中独立使用VFormRender组件（即项目中不含表单设计器）时才需要注册。</p></blockquote><p>在 main.js 中引入</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { createApp } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> App </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./App.vue&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> axios </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;axios&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//如果需要axios，请引入</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> ElementPlus </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;element-plus&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//引入element-plus库</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> VFormRender </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vform3-builds/dist/render.umd.js&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//引入VFormRender组件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;element-plus/dist/index.css&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//引入element-plus样式</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vform3-builds/dist/render.style.css&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//引入VFormRender样式</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">app</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createApp</span><span style="color:#E1E4E8;">(App)</span></span>
<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">use</span><span style="color:#E1E4E8;">(ElementPlus)  </span><span style="color:#6A737D;">//全局注册element-plus</span></span>
<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">use</span><span style="color:#E1E4E8;">(VFormRender)  </span><span style="color:#6A737D;">//全局注册VFormRender等组件</span></span>
<span class="line"><span style="color:#6A737D;">/* 注意：如果你的项目中有使用axios，请用下面一行代码将全局axios复位为你的axios！！ */</span></span>
<span class="line"><span style="color:#E1E4E8;">window.axios </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> axios</span></span>
<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">mount</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#app&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { createApp } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> App </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./App.vue&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> axios </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;axios&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//如果需要axios，请引入</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> ElementPlus </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;element-plus&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//引入element-plus库</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> VFormRender </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vform3-builds/dist/render.umd.js&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//引入VFormRender组件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;element-plus/dist/index.css&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//引入element-plus样式</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vform3-builds/dist/render.style.css&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//引入VFormRender样式</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">app</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createApp</span><span style="color:#24292E;">(App)</span></span>
<span class="line"><span style="color:#24292E;">app.</span><span style="color:#6F42C1;">use</span><span style="color:#24292E;">(ElementPlus)  </span><span style="color:#6A737D;">//全局注册element-plus</span></span>
<span class="line"><span style="color:#24292E;">app.</span><span style="color:#6F42C1;">use</span><span style="color:#24292E;">(VFormRender)  </span><span style="color:#6A737D;">//全局注册VFormRender等组件</span></span>
<span class="line"><span style="color:#6A737D;">/* 注意：如果你的项目中有使用axios，请用下面一行代码将全局axios复位为你的axios！！ */</span></span>
<span class="line"><span style="color:#24292E;">window.axios </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> axios</span></span>
<span class="line"><span style="color:#24292E;">app.</span><span style="color:#6F42C1;">mount</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#app&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><p>在 vue 模板中使用</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">v-form-render</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:form-json</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;formJson&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:form-data</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;formData&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:option-data</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;optionData&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;vFormRef&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">v-form-render</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">el-button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;primary&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@click</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;submitForm&quot;</span><span style="color:#E1E4E8;">&gt;Submit&lt;/</span><span style="color:#85E89D;">el-button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ref, reactive } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ElMessage } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;element-plus&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">/* 注意：formJson是指表单设计器导出的json，此处演示的formJson只是一个空白表单json！！ */</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">formJson</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">reactive</span><span style="color:#E1E4E8;">({</span><span style="color:#9ECBFF;">&quot;widgetList&quot;</span><span style="color:#E1E4E8;">:[],</span><span style="color:#9ECBFF;">&quot;formConfig&quot;</span><span style="color:#E1E4E8;">:{</span><span style="color:#9ECBFF;">&quot;modelName&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;formData&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;refName&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;vForm&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;rulesName&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;rules&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;labelWidth&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;labelPosition&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;left&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;size&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;labelAlign&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;label-left-align&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;cssCode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;customClass&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;functions&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;layoutType&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;PC&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;jsonVersion&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;onFormCreated&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;onFormMounted&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;onFormDataChange&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&quot;onFormValidate&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">}})</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">formData</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">reactive</span><span style="color:#E1E4E8;">({})</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">optionData</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">reactive</span><span style="color:#E1E4E8;">({})</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">vFormRef</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 显示弹框</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">show</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">row</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  showDialog.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">  reportName.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> row.reportName</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">http</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;detail&#39;</span><span style="color:#E1E4E8;">, { formDataId: row.formDataId }).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 根据 JSON 结构，渲染出页面表单</span></span>
<span class="line"><span style="color:#E1E4E8;">    vFormRef.value.</span><span style="color:#B392F0;">setFormJson</span><span style="color:#E1E4E8;">(res.formConfigDto)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 根据数据渲染出页面填入的值，填过</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">nextTick</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        vFormRef.value.</span><span style="color:#B392F0;">setFormData</span><span style="color:#E1E4E8;">(res.formDataDto)</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">nextTick</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#6A737D;">// 填过的数据展示给人的时候，禁用表单，不能更改</span></span>
<span class="line"><span style="color:#E1E4E8;">          vFormRef.value.</span><span style="color:#B392F0;">disableForm</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">        })</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">v-form-render</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:form-json</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;formJson&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:form-data</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;formData&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:option-data</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;optionData&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;vFormRef&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">v-form-render</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">el-button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">type</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;primary&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;submitForm&quot;</span><span style="color:#24292E;">&gt;Submit&lt;/</span><span style="color:#22863A;">el-button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ref, reactive } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue&#39;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ElMessage } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;element-plus&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 注意：formJson是指表单设计器导出的json，此处演示的formJson只是一个空白表单json！！ */</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">formJson</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">reactive</span><span style="color:#24292E;">({</span><span style="color:#032F62;">&quot;widgetList&quot;</span><span style="color:#24292E;">:[],</span><span style="color:#032F62;">&quot;formConfig&quot;</span><span style="color:#24292E;">:{</span><span style="color:#032F62;">&quot;modelName&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;formData&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;refName&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;vForm&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;rulesName&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;rules&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;labelWidth&quot;</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">80</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;labelPosition&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;left&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;size&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;labelAlign&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;label-left-align&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;cssCode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;customClass&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;functions&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;layoutType&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;PC&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;jsonVersion&quot;</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;onFormCreated&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;onFormMounted&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;onFormDataChange&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;onFormValidate&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">}})</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">formData</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">reactive</span><span style="color:#24292E;">({})</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">optionData</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">reactive</span><span style="color:#24292E;">({})</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">vFormRef</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 显示弹框</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">show</span><span style="color:#24292E;">(</span><span style="color:#E36209;">row</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  showDialog.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">  reportName.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> row.reportName</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">http</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;detail&#39;</span><span style="color:#24292E;">, { formDataId: row.formDataId }).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">((</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 根据 JSON 结构，渲染出页面表单</span></span>
<span class="line"><span style="color:#24292E;">    vFormRef.value.</span><span style="color:#6F42C1;">setFormJson</span><span style="color:#24292E;">(res.formConfigDto)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 根据数据渲染出页面填入的值，填过</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">nextTick</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        vFormRef.value.</span><span style="color:#6F42C1;">setFormData</span><span style="color:#24292E;">(res.formDataDto)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">nextTick</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6A737D;">// 填过的数据展示给人的时候，禁用表单，不能更改</span></span>
<span class="line"><span style="color:#24292E;">          vFormRef.value.</span><span style="color:#6F42C1;">disableForm</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        })</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="官方" tabindex="-1">官方 <a class="header-anchor" href="#官方" aria-label="Permalink to &quot;官方&quot;">​</a></h2><p><a href="https://www.yuque.com/visualdev/vform3/using-render" target="_blank" rel="noreferrer">https://www.yuque.com/visualdev/vform3/using-render</a></p><p>如有不懂可以下方留言，或者查看官方文档</p><p>高级例子后面用到会继续补写文档</p>`,30),e=[p];function t(r,c,E,y,i,F){return n(),a("div",null,e)}const d=s(o,[["render",t]]);export{m as __pageData,d as default};
